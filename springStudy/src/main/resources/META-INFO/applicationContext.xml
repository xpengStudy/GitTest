<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-4.2.xsd">
        <!-- default-lazy-init="true" 对所有的应用都延迟加载  -->
       <!--http://www.springframework.org/schema/beans/spring-beans.xsd" default-lazy-init="true">-->
    <!-- 使用自动装配  需要的注解  -->
    <context:annotation-config/>

    <!-- 配置自己需要的bean  -->
    <!--init-method 方法是再spring实例化spring 容器的时候执行某些方法  destroy-method 是再spring的ioc容器关闭时调用的某些方法-->
    <!-- spring容器的bean 默认是随着容器关闭而销毁 -->
    <bean id="helloWord" class="com.xp.study.pojo.HelloWord" init-method="init" destroy-method="init">
        <property name="name" value="spring"> </property>
    </bean>

    <!-- 配置spring 的第一个接口Bean -->
    <bean id="personService" class="com.xp.study.service.impl.PersonServiceImpl"></bean>
    <!-- 获取bean的第二种方式 -->
    <!-- 这种方式只能是针对类里面的static方法  对于不是静态方法的没有作用  -->
    <bean id="springBeanFactory" class="com.xp.study.pojo.springBeanFactory" factory-method="createHello">
        <property name="name" value="spring"></property>
    </bean>
    <!-- 获取bean 的第三种方式 针对工厂类的所有方法(除了静态方法)-->
    <bean id="springFactory" class="com.xp.study.pojo.springBeanFactory"></bean>
    <bean id="springCreateFactory" factory-bean="springFactory" factory-method="addHello"></bean>
    <!-- spring 再作用域为单例的时候 默认是初始化容器的时候  实例化bean  当lazy-init 为true的时候 则不会再初始化容器的时候实例化bean -->
    <!-- spring 再作用域为prototype 的时候 默认是getbean的时候  实例化bean -->

    <bean id="testAddHello" factory-bean="springFactory" factory-method="testAdd" lazy-init="true"></bean>
    <!-- 每次从容器获取的对象都是一个新对象 默认的是单实例 是同一个对象 -->
    <bean id="personBean" factory-bean="springFactory" factory-method="addPerson" scope="prototype"></bean>


    <!--  开始学习spring 的DI  依赖注入  -->
        <!-- 装配集合  第一种方式 -->
    <bean id="userResipotroy" class="com.xp.study.resepotory.impl.PersonResipotroyImpl"></bean>
    <bean id="personServiceDi" class="com.xp.study.service.impl.PersonServiceImpl" >
        <property name="userResipotroy" ref="userResipotroy"></property>
        <!-- 第二种方式  当需要多种属性的时候   -->
        <property name="properties" >
            <props>
                <prop key="第一个prop"></prop>
                <prop key="第二个prop"></prop>
                <prop key="第三个prop"></prop>
            </props>
        </property>
        <property name="lists">
            <list>
                <value>第一个list</value>
                <value>第二个list</value>
                <value>第三个个list</value>
            </list>
        </property>
        <property name="sets">
            <set>
                <value>第一个set</value>
                <value>第二个set</value>
                <value>第三个set</value>
            </set>
        </property>
        <property name="maps">
            <map>
                <entry key="key-1" value="value-1"></entry>
                <entry key="key-2" value="value-2"></entry>
                <entry key="key-3" value="value-3"></entry>
            </map>
        </property>
    </bean>

</beans>